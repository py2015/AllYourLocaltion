<!DOCTYPE HTML>
<!--
	Strata by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>All About You Location</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.poptrox.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/init.js"></script>	
		<script type="text/javascript" src="js/jssor.js"></script>
		<script type="text/javascript" src="js/jssor.slider.js"></script>		
		
		<link rel="stylesheet" type="text/css" href="styles.css" />
		<link rel="stylesheet" type="text/css" href="css/style-weather.css" />
		<link rel="stylesheet" type="text/css" href="css/style-slider.css" />
		<link rel="stylesheet" href="css/style-weather-widget.css" />
		
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
	</head>
	<body id="top">
		<script>
			jQuery(document).ready(function ($) {
				//Reference http://www.jssor.com/development/slider-with-slideshow-jquery.html
				//Reference http://www.jssor.com/development/tool-slideshow-transition-viewer.html

				var _SlideshowTransitions = [
				//Swing Outside in Stairs
				{$Duration: 1200, x: 0.2, y: -0.1, $Delay: 20, $Cols: 8, $Rows: 4, $Clip: 15, $During: { $Left: [0.3, 0.7], $Top: [0.3, 0.7] }, $Formation: $JssorSlideshowFormations$.$FormationStraightStairs, $Assembly: 260, $Easing: { $Left: $JssorEasing$.$EaseInWave, $Top: $JssorEasing$.$EaseInWave, $Clip: $JssorEasing$.$EaseOutQuad }, $Outside: true, $Round: { $Left: 1.3, $Top: 2.5} }

				//Dodge Dance Outside out Stairs
				, { $Duration: 1500, x: 0.3, y: -0.3, $Delay: 20, $Cols: 8, $Rows: 4, $Clip: 15, $During: { $Left: [0.1, 0.9], $Top: [0.1, 0.9] }, $SlideOut: true, $Formation: $JssorSlideshowFormations$.$FormationStraightStairs, $Assembly: 260, $Easing: { $Left: $JssorEasing$.$EaseInJump, $Top: $JssorEasing$.$EaseInJump, $Clip: $JssorEasing$.$EaseOutQuad }, $Outside: true, $Round: { $Left: 0.8, $Top: 2.5} }

				//Dodge Pet Outside in Stairs
				, { $Duration: 1500, x: 0.2, y: -0.1, $Delay: 20, $Cols: 8, $Rows: 4, $Clip: 15, $During: { $Left: [0.3, 0.7], $Top: [0.3, 0.7] }, $Formation: $JssorSlideshowFormations$.$FormationStraightStairs, $Assembly: 260, $Easing: { $Left: $JssorEasing$.$EaseInWave, $Top: $JssorEasing$.$EaseInWave, $Clip: $JssorEasing$.$EaseOutQuad }, $Outside: true, $Round: { $Left: 0.8, $Top: 2.5} }

				//Dodge Dance Outside in Random
				, { $Duration: 1500, x: 0.3, y: -0.3, $Delay: 80, $Cols: 8, $Rows: 4, $Clip: 15, $During: { $Left: [0.3, 0.7], $Top: [0.3, 0.7] }, $Easing: { $Left: $JssorEasing$.$EaseInJump, $Top: $JssorEasing$.$EaseInJump, $Clip: $JssorEasing$.$EaseOutQuad }, $Outside: true, $Round: { $Left: 0.8, $Top: 2.5} }

				//Flutter out Wind
				, { $Duration: 1800, x: 1, y: 0.2, $Delay: 30, $Cols: 10, $Rows: 5, $Clip: 15, $During: { $Left: [0.3, 0.7], $Top: [0.3, 0.7] }, $SlideOut: true, $Reverse: true, $Formation: $JssorSlideshowFormations$.$FormationStraightStairs, $Assembly: 2050, $Easing: { $Left: $JssorEasing$.$EaseInOutSine, $Top: $JssorEasing$.$EaseOutWave, $Clip: $JssorEasing$.$EaseInOutQuad }, $Outside: true, $Round: { $Top: 1.3} }

				//Collapse Stairs
				, { $Duration: 1200, $Delay: 30, $Cols: 8, $Rows: 4, $Clip: 15, $SlideOut: true, $Formation: $JssorSlideshowFormations$.$FormationStraightStairs, $Assembly: 2049, $Easing: $JssorEasing$.$EaseOutQuad }

				//Collapse Random
				, { $Duration: 1000, $Delay: 80, $Cols: 8, $Rows: 4, $Clip: 15, $SlideOut: true, $Easing: $JssorEasing$.$EaseOutQuad }

				//Vertical Chess Stripe
				, { $Duration: 1000, y: -1, $Cols: 12, $Formation: $JssorSlideshowFormations$.$FormationStraight, $ChessMode: { $Column: 12} }

				//Extrude out Stripe
				, { $Duration: 1000, x: -0.2, $Delay: 40, $Cols: 12, $SlideOut: true, $Formation: $JssorSlideshowFormations$.$FormationStraight, $Assembly: 260, $Easing: { $Left: $JssorEasing$.$EaseInOutExpo, $Opacity: $JssorEasing$.$EaseInOutQuad }, $Opacity: 2, $Outside: true, $Round: { $Top: 0.5} }

				//Dominoes Stripe
				, { $Duration: 2000, y: -1, $Delay: 60, $Cols: 15, $SlideOut: true, $Formation: $JssorSlideshowFormations$.$FormationStraight, $Easing: $JssorEasing$.$EaseOutJump, $Round: { $Top: 1.5} }
				];

				var options = {
					$AutoPlay: true,                                    //[Optional] Whether to auto play, to enable slideshow, this option must be set to true, default value is false
					$AutoPlaySteps: 1,                                  //[Optional] Steps to go for each navigation request (this options applys only when slideshow disabled), the default value is 1
					$AutoPlayInterval: 4000,                            //[Optional] Interval (in milliseconds) to go for next slide since the previous stopped if the slider is auto playing, default value is 3000
					$PauseOnHover: 1,                               //[Optional] Whether to pause when mouse over if a slider is auto playing, 0 no pause, 1 pause for desktop, 2 pause for touch device, 3 pause for desktop and touch device, 4 freeze for desktop, 8 freeze for touch device, 12 freeze for desktop and touch device, default value is 1

					$ArrowKeyNavigation: true,   			            //[Optional] Allows keyboard (arrow key) navigation or not, default value is false
					$SlideDuration: 500,                                //[Optional] Specifies default duration (swipe) for slide in milliseconds, default value is 500
					$MinDragOffsetToSlide: 20,                          //[Optional] Minimum drag offset to trigger slide , default value is 20
					$SlideWidth: 220,                                 //[Optional] Width of every slide in pixels, default value is width of 'slides' container
					$SlideHeight: 134,                                //[Optional] Height of every slide in pixels, default value is height of 'slides' container
					$SlideSpacing: 0, 					                //[Optional] Space between each slide in pixels, default value is 0
					$DisplayPieces: 1,                                  //[Optional] Number of pieces to display (the slideshow would be disabled if the value is set to greater than 1), the default value is 1
					$ParkingPosition: 0,                                //[Optional] The offset position to park slide (this options applys only when slideshow disabled), default value is 0.
					$UISearchMode: 1,                                   //[Optional] The way (0 parellel, 1 recursive, default value is 1) to search UI components (slides container, loading screen, navigator container, arrow navigator container, thumbnail navigator container etc).
					$PlayOrientation: 1,                                //[Optional] Orientation to play slide (for auto play, navigation), 1 horizental, 2 vertical, 5 horizental reverse, 6 vertical reverse, default value is 1
					$DragOrientation: 3,                                //[Optional] Orientation to drag slide, 0 no drag, 1 horizental, 2 vertical, 3 either, default value is 1 (Note that the $DragOrientation should be the same as $PlayOrientation when $DisplayPieces is greater than 1, or parking position is not 0)

					$SlideshowOptions: {                                //[Optional] Options to specify and enable slideshow or not
						$Class: $JssorSlideshowRunner$,                 //[Required] Class to create instance of slideshow
						$Transitions: _SlideshowTransitions,            //[Required] An array of slideshow transitions to play slideshow
						$TransitionsOrder: 1,                           //[Optional] The way to choose transition to play slide, 1 Sequence, 0 Random
						$ShowLink: true                                    //[Optional] Whether to bring slide link on top of the slider when slideshow is running, default value is false
					},

					$BulletNavigatorOptions: {                                //[Optional] Options to specify and enable navigator or not
						$Class: $JssorBulletNavigator$,                       //[Required] Class to create navigator instance
						$ChanceToShow: 2,                               //[Required] 0 Never, 1 Mouse Over, 2 Always
						$AutoCenter: 0,                                 //[Optional] Auto center navigator in parent container, 0 None, 1 Horizontal, 2 Vertical, 3 Both, default value is 0
						$Steps: 1,                                      //[Optional] Steps to go for each navigation request, default value is 1
						$Lanes: 1,                                      //[Optional] Specify lanes to arrange items, default value is 1
						$SpacingX: 10,                                   //[Optional] Horizontal space between each item in pixel, default value is 0
						$SpacingY: 10,                                   //[Optional] Vertical space between each item in pixel, default value is 0
						$Orientation: 1                                 //[Optional] The orientation of the navigator, 1 horizontal, 2 vertical, default value is 1
					},

					$ArrowNavigatorOptions: {
						$Class: $JssorArrowNavigator$,              //[Requried] Class to create arrow navigator instance
						$ChanceToShow: 2                                //[Required] 0 Never, 1 Mouse Over, 2 Always
					}
				};

				var jssor_slider2 = new $JssorSlider$("slider2_container", options);

				//responsive code begin
				//you can remove responsive code if you don't want the slider scales while window resizes
				function ScaleSlider() {
					var parentWidth = jssor_slider2.$Elmt.parentNode.clientWidth;
					if (parentWidth)
						jssor_slider2.$ScaleWidth(Math.min(parentWidth, 220));
					else
						window.setTimeout(ScaleSlider, 30);
				}

				ScaleSlider();

				$(window).bind("load", ScaleSlider);
				$(window).bind("resize", ScaleSlider);
				$(window).bind("orientationchange", ScaleSlider);

				//responsive code end
			});
		</script>
	
		<!-- Header -->
			<header id="header">
				<script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.2.1/bootstrap.min.js"></script>
				<script src="js/jquery.simpleWeather.js"></script>

				<div id="weather" class="weather"></div>
				
				
				<h1 id="GeoResults"></h1>
				
				<br/>
				
				<button id="btnIpLocation" class="button active" onclick="getIpLocation();">IP Location</button>
				<button id="btnRealLocation" class="button deactive" onclick="getRealLocation();">Real Location</button>
			</header>

		<!-- Main -->
			<div id="main" style="position: relative;">

				<!-- One -->
				<section id="one">
					<header class="major">
						<h2>Location Map</h2>
					</header>
					<form>
					  <input id="geocomplete" type="text" placeholder="Type in an address" size="90" style="width: 99%;"/>
					</form>
					
					<div class="map_canvas" id="mapcanvas"  style="width: 99%;"></div>
					
					<script src="http://maps.googleapis.com/maps/api/js?sensor=false&amp;libraries=places"></script>
					<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

					<script src="js/jquery.geocomplete.js"></script>
					<script src="logger.js"></script>
					 
					<script>
					  $(function(){
						
						var options = {
						  map: ".map_canvas",
						  location: [lat,lon]
						};
						
						$("#geocomplete").geocomplete(options);
						
					  });
					</script>
				</section>
				
				<section id="two">
					<header class="major">
						<h2>Weather</h2>
					</header>
					<div class="row">
						
						<script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.2.1/bootstrap.min.js"></script>
						<script src="js/jquery.simpleWeather.js"></script>
								
						<article class="6u 12u$(xsmall) work-item">
							<section class="section">

								<h1 id="h_wt2"></h1>

								<div class="temperature">
								  <h2 id="c_wt2"></h2>
								</div>

								<ul style="align=center;">
								  <li class="fontawesome-plus left">
									<span id="p_wt2">4 mph</span>
								  </li>
								  <li class="fontawesome-minus right">
									<span id="m_wt2">10%</span>
								  </li>
								</ul> 

							</section>
						</article>
						
						<article class="6u 12u$(xsmall) work-item">
							<section class="section">

								<h1 id="h_wt3"></h1>

								<div class="temperature">
								  <h2 id="c_wt3"></h2>
								</div>

								<ul>
								  <li class="fontawesome-plus left">
									<span id="p_wt3">4 mph</span>
								  </li>
								  <li class="fontawesome-minus right">
									<span id="m_wt3">10%</span>
								  </li>
								</ul> 

							</section>
						</article>
						
						<article class="6u 12u$(xsmall) work-item">
							<section class="section">

								<h1 id="h_wt4"></h1>

								<div class="temperature">
								  <h2 id="c_wt4"></h2>
								</div>

								<ul>
								  <li class="fontawesome-plus left">
									<span id="p_wt4">4 mph</span>
								  </li>
								  <li class="fontawesome-minus right">
									<span id="m_wt4">10%</span>
								  </li>
								</ul>  

							</section>
						</article>
						
						<article class="6u 12u$(xsmall) work-item">
							<section class="section">

								<h1 id="h_wt5"></h1>

								<div class="temperature">
								  <h2 id="c_wt5"></h2>
								</div>

								<ul>
								  <li class="fontawesome-plus left">
									<span id="p_wt5">4 mph</span>
								  </li>
								  <li class="fontawesome-minus right">
									<span id="m_wt5">10%</span>
								  </li>
								</ul> 

							</section>
						</article>
					</div>
				</section>

				<br/><br/><br/><br/><br/><br/>
				
				<div id="slider2_container" style="position: fixed; bottom: 0px; right: 0px; width: 220px; height: 134px;">

			<!-- Loading Screen -->
			<div u="loading" style="position: absolute; top: 0px; left: 0px;">
				<div style="filter: alpha(opacity=70); opacity:0.7; position: absolute; display: block;
					background-color: #000; top: 0px; left: 0px;width: 100%;height:100%;">
				</div>
				<div style="position: absolute; display: block; background: url(images/loading.gif) no-repeat center center;
					top: 0px; left: 0px;width: 100%;height:100%;">
				</div>
			</div>
			
			<!-- Slides Container -->
			<div u="slides" style="cursor: move; position: absolute; margin: 0px auto; width: 220px; height: 134px;
					overflow: hidden;">
					<div>
						<a u=image href="http://click.accesstrade.vn/adv.php?rk=00001g00002r" target="_blank"><img src="http://imp.accesstrade.vn/img.php?rk=00001g00002r" border="0"/></a>
					</div>
					<div>
						<a u=image href="http://click.accesstrade.vn/adv.php?rk=00000j00002r" target="_blank"><img src="http://imp.accesstrade.vn/img.php?rk=00000j00002r" border="0"/></a>
					</div>
					<div>
						<a u=image href="http://click.accesstrade.vn/adv.php?rk=00000n00002r" target="_blank"><img src="http://imp.accesstrade.vn/img.php?rk=00000n00002r" border="0"/></a>
					</div>
					<div>
						<a u=image href="http://click.accesstrade.vn/adv.php?rk=00000w00002r" target="_blank"><img src="http://imp.accesstrade.vn/img.php?rk=00000w00002r" border="0"/></a>
					</div>
					<div>
						<a u=image href="http://click.accesstrade.vn/adv.php?rk=00001000002r" target="_blank"><img src="http://imp.accesstrade.vn/img.php?rk=00001000002r" border="0"/></a>
					</div>
				</div>
				
					<!-- bullet navigator container -->
					<div u="navigator" class="jssorb01" style="bottom: 16px; right: 10px;">
						<!-- bullet navigator item prototype -->
						<div u="prototype"></div>
					</div>
					
					<!-- Arrow Left -->
					<span u="arrowleft" class="jssora05l" style="top: 40px; left: 8px;">
					</span>
					<!-- Arrow Right -->
					<span u="arrowright" class="jssora05r" style="top: 40px; right: 8px;">
					</span>
					<a style="display: none" href="http://www.jssor.com">Bootstrap Slider</a>
				</div>
			</div>

		<!-- Footer -->
	</body>
	<script>
		var ip = "";
		var regionName = "";
		var country = "";
		var lat = "";
		var lon = "";
		var addr = "";
		var isIpLocation = true;
		
		function showLocation(){
			var body = "";
			if(isIpLocation){
				body = "<div>I am in <strong>IP LOCATION</strong></div><div><strong>" + ip + "</strong></div><div>Address</div><div><strong>" +  addr + "</strong></div>";
					//body += "<strong>" + regionName + ", " + country + "</strong><br/>";
					body += "<div>Latitude - Longtitude: </div><div>" + "<strong>" + lat + " - " + lon + "</strong></div>";
			}else{
				body = "<div>I am in <strong>REAL LOCATION</strong></div><div><strong>" + ip + "</strong></div><div>Address</div><div><strong>" +  addr + "</strong></div>";
					//body += "<strong>" + regionName + ", " + country + "</strong><br/>";
					body += "<div>Latitude - Longtitude: </div><div>" + "<strong>" + lat + " - " + lon + "</strong></div>";
			}
			$("#GeoResults").html(body);
		}
	
		function getIpLocation(){
			$.getJSON("http://ip-api.com/json/?callback=?", function(data) {
				ip = data["query"];
				regionName = data["regionName"];
				country = data["country"];
				lat = data["lat"];
				lon = data["lon"];
				isIpLocation = true;
			
				getAddress();
				showLocation();
				drawMap();
				loadWeather();
				
				$("#btnIpLocation").removeClass("deactive");
				$("#btnIpLocation").addClass("active");
				
				$("#btnRealLocation").addClass("deactive");
				$("#btnRealLocation").removeClass("active");
			});
			
		}
		
		function success(position) {
		  
			lat = position.coords.latitude;
			lon = position.coords.longitude;
			isIpLocation = false;
			
			getAddress();
			showLocation();
			drawMap();
			loadWeather();
			
			$("#btnIpLocation").addClass("deactive");
			$("#btnIpLocation").removeClass("active");
			
			$("#btnRealLocation").removeClass("deactive");
			$("#btnRealLocation").addClass("active");
		}

		function error(msg) {
		   alert(msg);
		}
		
		function getRealLocation(){
			if (navigator.geolocation) {
			  navigator.geolocation.getCurrentPosition(success, error);
			} else {
			  error('not supported');
			}
		}
		
		function getAddress(){
			var url = "http://maps.googleapis.com/maps/api/geocode/json?latlng=" + lat + "," + lon + "&sensor=true";
			$.getJSON(url, function(data) {
				if(data.status == "OK"){
					addr = data.results[0].formatted_address;
				}
			});
		}
		
		function drawMap(){
			$("#geocomplete").val(addr);
			$("#geocomplete").trigger("geocode");
		}
		
		$.ajaxSetup({
			async: false
		});
		
		getIpLocation();
		
		function loadWeather() {
			var location = lat+','+lon;
			var woeid = "";
		  $.simpleWeather({
			location: location,
			woeid: woeid,
			unit: 'f',
			success: function(weather) {
			console.log(weather);
			  html = '<h2><i class="icon-'+weather.code+'"></i> '+weather.alt.temp+'&deg;C</h2>';
			  //html += '<ul><li>'+weather.city+', '+weather.region+'</li>';
			  //html += '<li class="currently">'+weather.currently+'</li>';
			  //html += '<li>'+weather.temp+'&deg;'+weather.units.temp+'</li></ul>';  
			  
			  $("#weather").html(html);
			  
			  html = '<h2><i class="icon-'+weather.code+'"></i> '+weather.alt.temp+'&deg;C</h2>';
			  html += '<li class="currently">'+weather.forecast[0].day+'</li>';
			  
			  $("#weather0").html(html);
			  $("#h_wt2").html(weather.forecast[1].day + " - " + weather.forecast[1].date);
			  $("#h_wt3").html(weather.forecast[2].day + " - " + weather.forecast[2].date);
			  $("#h_wt4").html(weather.forecast[3].day + " - " + weather.forecast[3].date);
			  $("#h_wt5").html(weather.forecast[4].day + " - " + weather.forecast[4].date);
			  
			  var tmp = Math.round((parseInt(weather.forecast[1].alt.high) + parseInt(weather.forecast[1].alt.low))/2);
			  $("#c_wt2").html('<i class="icon-'+weather.forecast[1].code+'"></i> '+tmp+'&deg;C');
			  
			  tmp = Math.round((parseInt(weather.forecast[2].alt.high) + parseInt(weather.forecast[2].alt.low))/2);
			  $("#c_wt3").html('<i class="icon-'+weather.forecast[2].code+'"></i> '+tmp+'&deg;C');
			  
			  tmp = Math.round((parseInt(weather.forecast[3].alt.high) + parseInt(weather.forecast[3].alt.low))/2);
			  $("#c_wt4").html('<i class="icon-'+weather.forecast[3].code+'"></i> '+tmp+'&deg;C');
			  
			  tmp = Math.round((parseInt(weather.forecast[4].alt.high) + parseInt(weather.forecast[4].alt.low))/2);
			  $("#c_wt5").html('<i class="icon-'+weather.forecast[4].code+'"></i> '+tmp+'&deg;C');
			  
			  $("#p_wt2").html(weather.forecast[1].alt.high+'&deg;C');
			  $("#p_wt3").html(weather.forecast[2].alt.high+'&deg;C');
			  $("#p_wt4").html(weather.forecast[3].alt.high+'&deg;C');
			  $("#p_wt5").html(weather.forecast[4].alt.high+'&deg;C');
			  
			  $("#m_wt2").html(weather.forecast[1].alt.low+'&deg;C');
			  $("#m_wt3").html(weather.forecast[2].alt.low+'&deg;C');
			  $("#m_wt4").html(weather.forecast[3].alt.low+'&deg;C');
			  $("#m_wt5").html(weather.forecast[4].alt.low+'&deg;C');
			},
			error: function(error) {
			  $("#weather").html('<p>'+error+'</p>');
			}
		  });
		}
		
		var center = jQuery('#geocomplete').offset().left + jQuery('#geocomplete').width()/2 - 67;
		$("#slider2_container").css("left",center);
	</script>
</html>